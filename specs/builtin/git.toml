name = "git"
version_command = "git --version"
description = "The fast distributed version control system"

[[options]]
long = "--version"
description = "Print version"

[[options]]
long = "--help"
description = "Print help"

[[options]]
short = "-C"
takes_arg = true
description = "Run as if git was started in given path"

# --- Subcommands ---

[[subcommands]]
name = "add"
description = "Add file contents to the index"

  [[subcommands.options]]
  short = "-A"
  long = "--all"
  description = "Add all changes"

  [[subcommands.options]]
  short = "-p"
  long = "--patch"
  description = "Interactively choose hunks"

  [[subcommands.options]]
  short = "-n"
  long = "--dry-run"
  description = "Don't actually add files"

  [[subcommands.args]]
  name = "pathspec"
  variadic = true
  template = "file_paths"

[[subcommands]]
name = "commit"
description = "Record changes to the repository"

  [[subcommands.options]]
  short = "-m"
  long = "--message"
  takes_arg = true
  description = "Commit message"

  [[subcommands.options]]
  short = "-a"
  long = "--all"
  description = "Stage all modified files"

  [[subcommands.options]]
  long = "--amend"
  description = "Amend previous commit"

  [[subcommands.options]]
  long = "--no-edit"
  description = "Use previous commit message"

  [[subcommands.options]]
  short = "-s"
  long = "--signoff"
  description = "Add Signed-off-by trailer"

[[subcommands]]
name = "checkout"
aliases = ["co"]
description = "Switch branches or restore working tree files"

  [[subcommands.options]]
  short = "-b"
  takes_arg = true
  description = "Create and switch to a new branch"

  [[subcommands.options]]
  short = "-B"
  takes_arg = true
  description = "Create/reset and switch to a branch"

  [[subcommands.options]]
  long = "--track"
  short = "-t"
  description = "Set up tracking mode"

  [[subcommands.args]]
  name = "branch"
  [subcommands.args.generator]
  command = "git branch --no-color 2>/dev/null"
  strip_prefix = "* "
  cache_ttl_secs = 10

[[subcommands]]
name = "switch"
description = "Switch branches"

  [[subcommands.options]]
  short = "-c"
  long = "--create"
  takes_arg = true
  description = "Create and switch to a new branch"

  [[subcommands.options]]
  short = "-d"
  long = "--detach"
  description = "Detach HEAD"

  [[subcommands.args]]
  name = "branch"
  [subcommands.args.generator]
  command = "git branch --no-color 2>/dev/null"
  strip_prefix = "* "
  cache_ttl_secs = 10

[[subcommands]]
name = "branch"
description = "List, create, or delete branches"

  [[subcommands.options]]
  short = "-d"
  long = "--delete"
  description = "Delete a branch"

  [[subcommands.options]]
  short = "-D"
  description = "Force delete a branch"

  [[subcommands.options]]
  short = "-m"
  long = "--move"
  description = "Rename a branch"

  [[subcommands.options]]
  short = "-a"
  long = "--all"
  description = "List both local and remote branches"

  [[subcommands.options]]
  short = "-r"
  long = "--remotes"
  description = "List remote branches"

  [[subcommands.args]]
  name = "branch"
  [subcommands.args.generator]
  command = "git branch --no-color 2>/dev/null"
  strip_prefix = "* "
  cache_ttl_secs = 10

[[subcommands]]
name = "push"
description = "Update remote refs along with associated objects"

  [[subcommands.options]]
  short = "-u"
  long = "--set-upstream"
  description = "Set upstream for the current branch"

  [[subcommands.options]]
  long = "--force"
  short = "-f"
  description = "Force push"

  [[subcommands.options]]
  long = "--force-with-lease"
  description = "Force push with lease"

  [[subcommands.options]]
  long = "--tags"
  description = "Push tags"

  [[subcommands.args]]
  name = "remote"
  [subcommands.args.generator]
  command = "git remote 2>/dev/null"
  cache_ttl_secs = 30

[[subcommands]]
name = "pull"
description = "Fetch from and integrate with another repository"

  [[subcommands.options]]
  long = "--rebase"
  short = "-r"
  description = "Rebase instead of merge"

  [[subcommands.options]]
  long = "--no-rebase"
  description = "Merge instead of rebase"

  [[subcommands.args]]
  name = "remote"
  [subcommands.args.generator]
  command = "git remote 2>/dev/null"
  cache_ttl_secs = 30

[[subcommands]]
name = "merge"
description = "Join two or more development histories"

  [[subcommands.options]]
  long = "--no-ff"
  description = "Create a merge commit even for fast-forward"

  [[subcommands.options]]
  long = "--squash"
  description = "Squash commits"

  [[subcommands.options]]
  long = "--abort"
  description = "Abort the current merge"

  [[subcommands.args]]
  name = "branch"
  [subcommands.args.generator]
  command = "git branch --no-color 2>/dev/null"
  strip_prefix = "* "
  cache_ttl_secs = 10

[[subcommands]]
name = "rebase"
description = "Reapply commits on top of another base tip"

  [[subcommands.options]]
  short = "-i"
  long = "--interactive"
  description = "Interactive rebase"

  [[subcommands.options]]
  long = "--abort"
  description = "Abort rebase"

  [[subcommands.options]]
  long = "--continue"
  description = "Continue rebase"

  [[subcommands.options]]
  long = "--onto"
  takes_arg = true
  description = "Rebase onto a specific base"

  [[subcommands.args]]
  name = "upstream"
  [subcommands.args.generator]
  command = "git branch --no-color 2>/dev/null"
  strip_prefix = "* "
  cache_ttl_secs = 10

[[subcommands]]
name = "stash"
description = "Stash the changes in a dirty working directory"

  [[subcommands.subcommands]]
  name = "push"
  description = "Save local modifications to a new stash entry"

    [[subcommands.subcommands.options]]
    short = "-m"
    long = "--message"
    takes_arg = true
    description = "Stash message"

    [[subcommands.subcommands.options]]
    short = "-u"
    long = "--include-untracked"
    description = "Include untracked files"

  [[subcommands.subcommands]]
  name = "pop"
  description = "Apply and remove a single stashed state"

  [[subcommands.subcommands]]
  name = "apply"
  description = "Apply a single stashed state"

  [[subcommands.subcommands]]
  name = "list"
  description = "List stash entries"

  [[subcommands.subcommands]]
  name = "drop"
  description = "Remove a single stash entry"

  [[subcommands.subcommands]]
  name = "show"
  description = "Show changes in a stash entry"

  [[subcommands.subcommands]]
  name = "clear"
  description = "Remove all stash entries"

[[subcommands]]
name = "log"
description = "Show commit logs"

  [[subcommands.options]]
  long = "--oneline"
  description = "One line per commit"

  [[subcommands.options]]
  long = "--graph"
  description = "Show ASCII graph"

  [[subcommands.options]]
  short = "-n"
  takes_arg = true
  description = "Limit number of commits"

  [[subcommands.options]]
  long = "--all"
  description = "Show all refs"

  [[subcommands.options]]
  long = "--stat"
  description = "Show diffstat"

  [[subcommands.options]]
  short = "-p"
  long = "--patch"
  description = "Show patches"

  [[subcommands.options]]
  long = "--author"
  takes_arg = true
  description = "Limit to commits by author"

  [[subcommands.options]]
  long = "--grep"
  takes_arg = true
  description = "Limit to commits with message matching pattern"

  [[subcommands.options]]
  long = "--since"
  takes_arg = true
  description = "Show commits after a date"

  [[subcommands.options]]
  long = "--until"
  takes_arg = true
  description = "Show commits before a date"

  [[subcommands.options]]
  long = "--follow"
  description = "Continue listing history beyond renames"

[[subcommands]]
name = "diff"
description = "Show changes between commits, commit and working tree, etc"

  [[subcommands.options]]
  long = "--staged"
  description = "Show staged changes"

  [[subcommands.options]]
  long = "--cached"
  description = "Show staged changes (alias)"

  [[subcommands.options]]
  long = "--stat"
  description = "Show diffstat"

  [[subcommands.options]]
  long = "--name-only"
  description = "Show only names of changed files"

[[subcommands]]
name = "status"
aliases = ["st"]
description = "Show the working tree status"

  [[subcommands.options]]
  short = "-s"
  long = "--short"
  description = "Short format"

  [[subcommands.options]]
  short = "-b"
  long = "--branch"
  description = "Show branch info"

[[subcommands]]
name = "remote"
description = "Manage set of tracked repositories"

  [[subcommands.subcommands]]
  name = "add"
  description = "Add a remote"

  [[subcommands.subcommands]]
  name = "remove"
  description = "Remove a remote"
  aliases = ["rm"]

  [[subcommands.subcommands]]
  name = "rename"
  description = "Rename a remote"

  [[subcommands.subcommands]]
  name = "show"
  description = "Show info about a remote"

  [[subcommands.options]]
  short = "-v"
  long = "--verbose"
  description = "Show URLs"

[[subcommands]]
name = "fetch"
description = "Download objects and refs from another repository"

  [[subcommands.options]]
  long = "--all"
  description = "Fetch from all remotes"

  [[subcommands.options]]
  long = "--prune"
  short = "-p"
  description = "Remove stale tracking branches"

  [[subcommands.args]]
  name = "remote"
  [subcommands.args.generator]
  command = "git remote 2>/dev/null"
  cache_ttl_secs = 30

[[subcommands]]
name = "clone"
description = "Clone a repository into a new directory"

  [[subcommands.options]]
  long = "--depth"
  takes_arg = true
  description = "Shallow clone depth"

  [[subcommands.options]]
  long = "--branch"
  short = "-b"
  takes_arg = true
  description = "Clone a specific branch"

  [[subcommands.options]]
  long = "--bare"
  description = "Make a bare repository"

[[subcommands]]
name = "tag"
description = "Create, list, delete or verify a tag"

  [[subcommands.options]]
  short = "-a"
  long = "--annotate"
  description = "Make an annotated tag"

  [[subcommands.options]]
  short = "-d"
  long = "--delete"
  description = "Delete a tag"

  [[subcommands.options]]
  short = "-l"
  long = "--list"
  description = "List tags"

  [[subcommands.options]]
  short = "-m"
  long = "--message"
  takes_arg = true
  description = "Tag message"

  [[subcommands.args]]
  name = "tag"
  [subcommands.args.generator]
  command = "git tag 2>/dev/null"
  cache_ttl_secs = 10

[[subcommands]]
name = "reset"
description = "Reset current HEAD to the specified state"

  [[subcommands.options]]
  long = "--hard"
  description = "Reset working tree and index"

  [[subcommands.options]]
  long = "--soft"
  description = "Reset only HEAD"

  [[subcommands.options]]
  long = "--mixed"
  description = "Reset HEAD and index (default)"

[[subcommands]]
name = "cherry-pick"
description = "Apply the changes introduced by some existing commits"

  [[subcommands.options]]
  long = "--abort"
  description = "Abort cherry-pick"

  [[subcommands.options]]
  long = "--continue"
  description = "Continue cherry-pick"

  [[subcommands.options]]
  short = "-n"
  long = "--no-commit"
  description = "Apply changes without committing"

[[subcommands]]
name = "restore"
description = "Restore working tree files"

  [[subcommands.options]]
  long = "--staged"
  description = "Restore staged files"

  [[subcommands.options]]
  short = "-s"
  long = "--source"
  takes_arg = true
  description = "Restore from a specific source"

[[subcommands]]
name = "show"
description = "Show various types of objects"

  [[subcommands.options]]
  long = "--stat"
  description = "Show diffstat"

  [[subcommands.options]]
  long = "--name-only"
  description = "Show only names of changed files"

  [[subcommands.options]]
  long = "--format"
  takes_arg = true
  description = "Pretty-print using a format string"

  [[subcommands.args]]
  name = "object"
  description = "The object to show (commit, tag, tree, blob)"

[[subcommands]]
name = "blame"
description = "Show who last modified each line of a file"

  [[subcommands.options]]
  short = "-L"
  takes_arg = true
  description = "Annotate only the given line range"

  [[subcommands.options]]
  short = "-w"
  description = "Ignore whitespace"

  [[subcommands.args]]
  name = "file"
  template = "file_paths"

[[subcommands]]
name = "config"
description = "Get and set repository or global options"

  [[subcommands.options]]
  long = "--global"
  description = "Use global config file"

  [[subcommands.options]]
  long = "--local"
  description = "Use repository config file"

  [[subcommands.options]]
  short = "-l"
  long = "--list"
  description = "List all set variables and their values"

  [[subcommands.options]]
  long = "--get"
  description = "Get the value for a given key"

  [[subcommands.options]]
  long = "--unset"
  description = "Remove a variable"
