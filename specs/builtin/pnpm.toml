name = "pnpm"
description = "Fast, disk space efficient package manager"

[[subcommands]]
name = "add"
description = "Install a package"

  [[subcommands.options]]
  short = "-D"
  long = "--save-dev"
  description = "Save as devDependency"

  [[subcommands.options]]
  short = "-E"
  long = "--save-exact"
  description = "Install exact version"

  [[subcommands.options]]
  short = "-g"
  long = "--global"
  description = "Install globally"

  [[subcommands.args]]
  name = "packages"
  variadic = true

[[subcommands]]
name = "remove"
aliases = ["rm", "uninstall", "un"]
description = "Remove a package"

  [[subcommands.args]]
  name = "packages"
  variadic = true

[[subcommands]]
name = "install"
aliases = ["i"]
description = "Install all dependencies"

  [[subcommands.options]]
  long = "--frozen-lockfile"
  description = "Don't generate a lockfile"

  [[subcommands.options]]
  long = "--prod"
  description = "Install production dependencies only"

  [[subcommands.options]]
  long = "--no-optional"
  description = "Don't install optional dependencies"

[[subcommands]]
name = "run"
description = "Run a defined package script"

  [[subcommands.args]]
  name = "script"
  [subcommands.args.generator]
  command = "node -e \"try{const p=require('./package.json');Object.keys(p.scripts||{}).forEach(s=>console.log(s))}catch(e){}\""
  cache_ttl_secs = 30

[[subcommands]]
name = "test"
aliases = ["t"]
description = "Run the test script"

[[subcommands]]
name = "build"
description = "Run the build script"

[[subcommands]]
name = "start"
description = "Run the start script"

[[subcommands]]
name = "exec"
description = "Execute a shell command in the scope of a project"

[[subcommands]]
name = "dlx"
description = "Fetch and run a package temporarily"

  [[subcommands.args]]
  name = "package"

[[subcommands]]
name = "update"
aliases = ["up"]
description = "Update packages"

  [[subcommands.options]]
  long = "--latest"
  short = "-L"
  description = "Update to the latest version"

  [[subcommands.options]]
  long = "--interactive"
  short = "-i"
  description = "Show outdated and select which to update"

  [[subcommands.args]]
  name = "packages"
  variadic = true

[[subcommands]]
name = "list"
aliases = ["ls"]
description = "List installed packages"

  [[subcommands.options]]
  long = "--depth"
  takes_arg = true
  description = "Max display depth"

  [[subcommands.options]]
  long = "--dev"
  description = "Show only devDependencies"

  [[subcommands.options]]
  long = "--prod"
  description = "Show only dependencies"

[[subcommands]]
name = "why"
description = "Show all packages that depend on a specified package"

  [[subcommands.args]]
  name = "package"

[[subcommands]]
name = "store"
description = "Manage the package store"

  [[subcommands.subcommands]]
  name = "prune"
  description = "Remove unreferenced packages from the store"

  [[subcommands.subcommands]]
  name = "path"
  description = "Print the path to the store"

  [[subcommands.subcommands]]
  name = "status"
  description = "Check for modified packages in the store"
